(self.webpackChunkmy_new_app=self.webpackChunkmy_new_app||[]).push([[355],{7355:(t,e,a)=>{"use strict";a.r(e),a.d(e,{AdminModule:()=>D});var i=a(1116),n=a(5366),o=a(3957),d=a(766),s=a(7112),l=a(4369),u=a(7307),r=a(168),c=a(667),g=a(7064);let p=(()=>{class t{constructor(t,e){this.apiService=t,this.router=e,this.isSingedIn=!0,this.isLogout=new n.vpe}ngOnInit(){}logout(){this.apiService.logout(),this.isLogout.emit(),this.router.navigate(["/login"])}handleLogout(){this.isSingedIn=!1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(o.s),n.Y36(d.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-admin"]],outputs:{isLogout:"isLogout"},decls:30,vars:8,consts:[["color","primary",1,"example-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["matlisticon",""],["mat-button","",3,"click"],[1,"example-container"],["mode","side","opened","",1,"sidenav-left",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],["routerLink","/admin/dashboard"],["matListIcon",""],["matLine",""],["routerLink","/admin/product"],["mode","side",1,"example-sidenav",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#2c3e50"],[3,"isLogout"]],template:function(t,e){if(1&t){const t=n.EpF();n.ynx(0),n.TgZ(1,"mat-toolbar",0),n.TgZ(2,"button",1),n.NdJ("click",function(){return n.CHM(t),n.MAs(14).toggle()}),n.TgZ(3,"mat-icon"),n._uU(4,"menu"),n.qZA(),n.qZA(),n.TgZ(5,"span"),n._uU(6,"Sistem Informasi Inventaris Desa"),n.qZA(),n._UZ(7,"div",2),n.TgZ(8,"mat-icon",3),n._uU(9,"admin_panel_settings"),n.qZA(),n.TgZ(10,"button",4),n.NdJ("click",function(){return e.logout()}),n._uU(11,"Logout"),n.qZA(),n.qZA(),n.TgZ(12,"mat-sidenav-container",5),n.TgZ(13,"mat-sidenav",6,7),n.TgZ(15,"mat-nav-list"),n.TgZ(16,"mat-list-item",8),n.TgZ(17,"mat-icon",9),n._uU(18,"space_dashboard"),n.qZA(),n.TgZ(19,"h3",10),n._uU(20,"Dashboard"),n.qZA(),n.qZA(),n.TgZ(21,"mat-list-item",11),n.TgZ(22,"mat-icon",9),n._uU(23,"list"),n.qZA(),n.TgZ(24,"h3",10),n._uU(25,"Data"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(26,"mat-sidenav",12,7),n.TgZ(28,"mat-sidenav-content",13),n.TgZ(29,"router-outlet",14),n.NdJ("isLogout",function(){return e.handleLogout()}),n.qZA(),n.qZA(),n.qZA(),n.BQk()}2&t&&(n.xp6(13),n.Q6J("position","start")("fixedInViewport",!0)("fixedTopGap",65)("fixedBottomGap",0),n.xp6(13),n.Q6J("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0))},directives:[s.Ye,l.lW,u.Hw,r.TM,r.JX,c.Hk,c.Tg,d.rH,c.Nh,g.X2,r.Rh,d.lC],styles:[""]}),t})(),Z=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(n.TgZ(0,"mat-toolbar"),n._uU(1,"Dashboard"),n.qZA())},directives:[s.Ye],styles:[""]}),t})();var h=a(1265),m=a(1041),f=a(2935),T=a(1196),q=a(1428),A=a(3070),b=a(9550);let x=(()=>{class t{constructor(t,e,a,i,n,o){this.dialogRef=t,this.data=e,this.api=a,this.db=i,this.auth=n,this.router=o,this.userData={}}ngOnInit(){this.auth.user.subscribe(t=>{this.userData=t})}saveData(){if(this.loading=!0,null==this.data.id){let t=(new Date).getTime().toString();this.data.uid=this.userData.uid,this.db.collection("data").doc(t).set(this.data).then(t=>{this.loading=!1}).catch(t=>{console.log(t),this.loading=!1,alert("Tidak Dapat menyimpan data")})}else this.db.collection("data").doc(this.data.id).update(this.data).then(t=>{this.loading=!1}).catch(t=>{console.log(t),this.loading=!1,alert("Tidak Dapat menyimpan data")}),this.router.navigate(["admin/product"])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(f.so),n.Y36(f.WI),n.Y36(o.s),n.Y36(T.ST),n.Y36(q.zQ),n.Y36(d.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product-detail"]],decls:24,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(n.TgZ(0,"h3",0),n._uU(1," Detail Produk "),n.qZA(),n.TgZ(2,"div",1),n.TgZ(3,"mat-form-field",2),n.TgZ(4,"mat-label"),n._uU(5,"Nama Barang"),n.qZA(),n.TgZ(6,"input",3),n.NdJ("ngModelChange",function(t){return e.data.nama=t}),n.qZA(),n.qZA(),n.TgZ(7,"mat-form-field",2),n.TgZ(8,"mat-label"),n._uU(9,"Kode Barang"),n.qZA(),n.TgZ(10,"input",3),n.NdJ("ngModelChange",function(t){return e.data.kode=t}),n.qZA(),n.qZA(),n.TgZ(11,"mat-form-field",2),n.TgZ(12,"mat-label"),n._uU(13,"Identitas"),n.qZA(),n.TgZ(14,"input",3),n.NdJ("ngModelChange",function(t){return e.data.identitas=t}),n.qZA(),n.qZA(),n.TgZ(15,"mat-form-field",2),n.TgZ(16,"mat-label"),n._uU(17,"Keterangan"),n.qZA(),n.TgZ(18,"input",3),n.NdJ("ngModelChange",function(t){return e.data.ket=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(19,"div",4),n.TgZ(20,"button",5),n._uU(21,"Batal"),n.qZA(),n.TgZ(22,"button",6),n.NdJ("click",function(){return e.saveData()}),n._uU(23),n.qZA(),n.qZA()),2&t&&(n.xp6(6),n.Q6J("ngModel",e.data.nama),n.xp6(4),n.Q6J("ngModel",e.data.kode),n.xp6(4),n.Q6J("ngModel",e.data.identitas),n.xp6(4),n.Q6J("ngModel",e.data.ket),n.xp6(4),n.Q6J("disabled",e.loading),n.xp6(1),n.Oqu(e.loading?"Menyimpan..":"Simpan"))},directives:[f.uh,f.xY,A.KE,A.hX,b.Nt,m.Fj,m.JJ,m.On,f.H8,l.lW,f.ZT],styles:[""]}),t})();var k=a(7672),_=a(2797);function v(t,e){1&t&&(n.TgZ(0,"div",2),n._UZ(1,"mat-spinner"),n.qZA())}function U(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td",7),n.TgZ(12,"button",9),n.NdJ("click",function(){const e=n.CHM(t),a=e.$implicit,i=e.index;return n.oxw(2).productDetail(a,i)}),n._uU(13,"Edit"),n.qZA(),n.TgZ(14,"button",10),n.NdJ("click",function(){const e=n.CHM(t),a=e.$implicit,i=e.index;return n.oxw(2).deleteProduct(a.id,i)}),n._uU(15),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=e.$implicit,a=e.index,i=n.oxw(2);n.xp6(2),n.Oqu(a+1),n.xp6(2),n.Oqu(t.nama),n.xp6(2),n.Oqu(t.kode),n.xp6(2),n.Oqu(t.identitas),n.xp6(2),n.Oqu(t.ket),n.xp6(2),n.Q6J("disabled",i.loading),n.xp6(2),n.Q6J("disabled",i.loadingDelete[a]),n.xp6(1),n.Oqu(i.loadingDelete[a]?"Menghapus..":"Delete")}}function w(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"mat-card"),n.TgZ(1,"mat-card-header"),n.TgZ(2,"mat-card-title"),n._uU(3),n.qZA(),n.qZA(),n.TgZ(4,"mat-card-content"),n.TgZ(5,"div",3),n._UZ(6,"span",4),n.TgZ(7,"button",5),n.NdJ("click",function(){return n.CHM(t),n.oxw().productDetail({},-1)}),n._uU(8,"Tambah Produk"),n.qZA(),n.qZA(),n.TgZ(9,"table",6),n.TgZ(10,"thead"),n.TgZ(11,"th"),n._uU(12,"No"),n.qZA(),n.TgZ(13,"th"),n._uU(14,"Nama Barang"),n.qZA(),n.TgZ(15,"th"),n._uU(16,"Kode Barang"),n.qZA(),n.TgZ(17,"th"),n._uU(18,"Identitas"),n.qZA(),n.TgZ(19,"th"),n._uU(20,"Keterangan"),n.qZA(),n.TgZ(21,"th",7),n._uU(22,"#"),n.qZA(),n.qZA(),n.TgZ(23,"tbody"),n.YNc(24,U,16,8,"tr",8),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(3),n.Oqu(t.title),n.xp6(21),n.Q6J("ngForOf",t.books)}}const J=[{path:"",component:p,children:[{path:"dashboard",component:Z},{path:"product",component:(()=>{class t{constructor(t,e,a,i){this.dialog=t,this.api=e,this.db=a,this.auth=i,this.book={},this.books=[],this.userData={},this.loadingDelete={}}ngOnInit(){this.title="product",this.auth.user.subscribe(t=>{this.userData=t,this.getBooks()})}getBooks(){this.loading=!0,this.db.collection("data",t=>t.where("uid","==",this.userData.uid)).valueChanges({idField:"id"}).subscribe(t=>{console.log(t),this.books=t,this.loading=!1},t=>{this.loading=!1})}productDetail(t,e){this.dialog.open(x,{width:"400px",data:t}).afterClosed().subscribe(a=>{a&&(-1==e?this.books.push(a):this.books[e]=t)})}deleteProduct(t,e){confirm("Delete item?")&&this.db.collection("data").doc(t).delete().then(t=>{this.books.splice(e,1),this.loadingDelete[e]=!1}).catch(t=>{this.loadingDelete[e]=!1,alert("Tidak dapat menghapus data")})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(f.uw),n.Y36(o.s),n.Y36(T.ST),n.Y36(q.zQ))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px;","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],["align","right"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],["mat-button","","color","warn",3,"disabled","click"]],template:function(t,e){1&t&&(n.YNc(0,v,2,0,"div",0),n.YNc(1,w,25,2,"mat-card",1)),2&t&&(n.Q6J("ngIf",e.loading),n.xp6(1),n.Q6J("ngIf",!e.loading))},directives:[i.O5,k.$g,_.a8,_.dk,_.n5,_.dn,l.lW,i.sg],styles:[""]}),t})()}]}];let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[i.ez,d.Bz.forChild(J),h.M,m.u5]]}),t})()}}]);